#!/bin/bash

# Function to display subdomain information
display_info() {
  local domain="$1"
  local subdomain="$2"
  local record_type="$3"
  local destination="$4"
  echo "The subdomain $subdomain is a $record_type record and points to $destination"
}

# Domain name
domain="$1"

# Subdomain name (optional)
subdomain="$2"

# If only domain is provided, check for default subdomains
if [ -z "$subdomain" ]; then
  # Check www subdomain
  www_ip=$(dig +short www.$domain)
  if [ -n "$www_ip" ]; then
    display_info "$domain" "www" "A" "$www_ip"
  fi

  # Check lb-01 subdomain
  lb_ip=$(dig +short lb-01.$domain)
  if [ -n "$lb_ip" ]; then
    display_info "$domain" "lb-01" "A" "$lb_ip"
  fi

  # Check web-01 subdomain
  web_01_ip=$(dig +short web-01.$domain)
  if [ -n "$web_01_ip" ]; then
    display_info "$domain" "web-01" "A" "$web_01_ip"
  fi

  # Check web-02 subdomain
  web_02_ip=$(dig +short web-02.$domain)
  if [ -n "$web_02_ip" ]; then
    display_info "$domain" "web-02" "A" "$web_02_ip"
  fi
else
  # If subdomain is provided, check only that subdomain
  ip=$(dig +short $subdomain.$domain)
  if [ -n "$ip" ]; then
    display_info "$domain" "$subdomain" "A" "$ip"
  fi
fi
